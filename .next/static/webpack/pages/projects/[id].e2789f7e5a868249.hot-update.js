"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/projects/[id]",{

/***/ "./hooks/useSocketIO.js":
/*!******************************!*\
  !*** ./hooks/useSocketIO.js ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useSocketIO; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/src/_async_to_generator.mjs */ \"./node_modules/@swc/helpers/src/_async_to_generator.mjs\");\n/* harmony import */ var _swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @swc/helpers/src/_define_property.mjs */ \"./node_modules/@swc/helpers/src/_define_property.mjs\");\n/* harmony import */ var _swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @swc/helpers/src/_object_spread.mjs */ \"./node_modules/@swc/helpers/src/_object_spread.mjs\");\n/* harmony import */ var _swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/src/_object_spread_props.mjs */ \"./node_modules/@swc/helpers/src/_object_spread_props.mjs\");\n/* harmony import */ var _swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/src/_ts_generator.mjs */ \"./node_modules/@swc/helpers/src/_ts_generator.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/react */ \"./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_socketio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/socketio */ \"./lib/socketio.js\");\n\n\n\n\n\nvar _s = $RefreshSig$();\n\n\n\nfunction useSocketIO(projectId) {\n    _s();\n    var ref = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.useSession)(), session = ref.data;\n    var ref1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isConnected = ref1[0], setIsConnected = ref1[1];\n    var socketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    var ref2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), activeElements = ref2[0], setActiveElements = ref2[1];\n    // Initialize Socket.IO connection\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function() {\n        if (!projectId) return;\n        // Function to initialize the socket connection\n        var setupSocket = function() {\n            var _ref = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(function() {\n                var socket, error;\n                return (0,_swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            _state.trys.push([\n                                0,\n                                2,\n                                ,\n                                3\n                            ]);\n                            return [\n                                4,\n                                (0,_lib_socketio__WEBPACK_IMPORTED_MODULE_2__.initSocket)()\n                            ];\n                        case 1:\n                            socket = _state.sent();\n                            socketRef.current = socket;\n                            // Set up event handlers\n                            socket.on(\"connect\", function() {\n                                console.log(\"Socket connected:\", socket.id);\n                                setIsConnected(true);\n                                // Join the project room\n                                socket.emit(\"join-project\", projectId);\n                            });\n                            socket.on(\"disconnect\", function() {\n                                console.log(\"Socket disconnected\");\n                                setIsConnected(false);\n                            });\n                            socket.on(\"connect_error\", function(err) {\n                                console.error(\"Socket connection error:\", err);\n                                setIsConnected(false);\n                            });\n                            // Handle active elements updates\n                            socket.on(\"active-elements-update\", function(elements) {\n                                console.log(\"Received active elements update:\", elements);\n                                var elementsMap = {};\n                                elements.forEach(function(element) {\n                                    elementsMap[element.elementId] = element;\n                                });\n                                setActiveElements(elementsMap);\n                            });\n                            // Handle element editing started\n                            socket.on(\"element-editing-started\", function(data) {\n                                console.log(\"Element editing started:\", data);\n                                setActiveElements(function(prev) {\n                                    return (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, prev), (0,_swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, data.elementId, data));\n                                });\n                            });\n                            // Handle element editing stopped\n                            socket.on(\"element-editing-stopped\", function(data) {\n                                console.log(\"Element editing stopped:\", data);\n                                setActiveElements(function(prev) {\n                                    var newState = (0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, prev);\n                                    delete newState[data.elementId];\n                                    return newState;\n                                });\n                            });\n                            return [\n                                3,\n                                3\n                            ];\n                        case 2:\n                            error = _state.sent();\n                            console.error(\"Error initializing socket:\", error);\n                            return [\n                                3,\n                                3\n                            ];\n                        case 3:\n                            return [\n                                2\n                            ];\n                    }\n                });\n            });\n            return function setupSocket() {\n                return _ref.apply(this, arguments);\n            };\n        }();\n        setupSocket();\n        // Cleanup on unmount\n        return function() {\n            // We don't disconnect the socket here since it's a singleton\n            // Just remove our event listeners\n            if (socketRef.current) {\n                socketRef.current.off(\"connect\");\n                socketRef.current.off(\"disconnect\");\n                socketRef.current.off(\"connect_error\");\n                socketRef.current.off(\"active-elements-update\");\n                socketRef.current.off(\"element-editing-started\");\n                socketRef.current.off(\"element-editing-stopped\");\n            }\n        };\n    }, [\n        projectId\n    ]);\n    // Function to emit image reorder event\n    var emitImageReorder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(dayId, images) {\n        var ref;\n        if (!socketRef.current || !isConnected) return;\n        socketRef.current.emit(\"reorder-images\", {\n            projectId: projectId,\n            dayId: dayId,\n            images: images,\n            userId: session === null || session === void 0 ? void 0 : (ref = session.user) === null || ref === void 0 ? void 0 : ref.id\n        });\n    }, [\n        projectId,\n        isConnected,\n        session\n    ]);\n    // Function to subscribe to image reordering events\n    var subscribeToImageReorder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(callback) {\n        if (!socketRef.current) return function() {};\n        var handleImagesReordered = function(data) {\n            callback(data);\n        };\n        socketRef.current.on(\"images-reordered\", handleImagesReordered);\n        // Return cleanup function\n        return function() {\n            if (socketRef.current) {\n                socketRef.current.off(\"images-reordered\", handleImagesReordered);\n            }\n        };\n    }, []);\n    // Function to start editing an element\n    var startEditingElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(elementId, elementType) {\n        if (!socketRef.current || !isConnected || !(session === null || session === void 0 ? void 0 : session.user)) return;\n        // Generate a unique color for the user based on their ID\n        var getUserColor = function(userId) {\n            // List of vibrant colors for highlighting\n            var colors = [\n                \"#FF5733\",\n                \"#33FF57\",\n                \"#3357FF\",\n                \"#FF33A8\",\n                \"#33FFF5\",\n                \"#F5FF33\",\n                \"#FF33F5\",\n                \"#33A8FF\",\n                \"#A833FF\",\n                \"#FF8C33\" // Orange\n            ];\n            // Use the user ID to consistently select the same color for a user\n            var colorIndex = Math.abs(userId.split(\"\").reduce(function(acc, char) {\n                return acc + char.charCodeAt(0);\n            }, 0)) % colors.length;\n            return colors[colorIndex];\n        };\n        var color = getUserColor(session.user.id);\n        socketRef.current.emit(\"start-editing-element\", {\n            elementId: elementId,\n            projectId: projectId,\n            userId: session.user.id,\n            username: session.user.name || \"User\",\n            color: color,\n            elementType: elementType\n        });\n        // Also update local state immediately for responsive UI\n        setActiveElements(function(prev) {\n            return (0,_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, prev), (0,_swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({}, elementId, {\n                elementId: elementId,\n                userId: session.user.id,\n                username: session.user.name || \"User\",\n                color: color,\n                elementType: elementType\n            }));\n        });\n    }, [\n        projectId,\n        isConnected,\n        session\n    ]);\n    // Function to stop editing an element\n    var stopEditingElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(elementId) {\n        if (!socketRef.current || !isConnected) return;\n        socketRef.current.emit(\"stop-editing-element\", {\n            elementId: elementId,\n            projectId: projectId\n        });\n        // Also update local state immediately for responsive UI\n        setActiveElements(function(prev) {\n            var newState = (0,_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({}, prev);\n            delete newState[elementId];\n            return newState;\n        });\n    }, [\n        projectId,\n        isConnected\n    ]);\n    // Function to check if an element is being edited and by whom\n    var getElementEditor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(elementId) {\n        return activeElements[elementId] || null;\n    }, [\n        activeElements\n    ]);\n    // Function to check if current user is editing an element\n    var isEditingElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(elementId) {\n        var ref, ref1;\n        return ((ref = activeElements[elementId]) === null || ref === void 0 ? void 0 : ref.userId) === (session === null || session === void 0 ? void 0 : (ref1 = session.user) === null || ref1 === void 0 ? void 0 : ref1.id);\n    }, [\n        activeElements,\n        session\n    ]);\n    return {\n        isConnected: isConnected,\n        emitImageReorder: emitImageReorder,\n        subscribeToImageReorder: subscribeToImageReorder,\n        startEditingElement: startEditingElement,\n        stopEditingElement: stopEditingElement,\n        getElementEditor: getElementEditor,\n        isEditingElement: isEditingElement,\n        activeElements: activeElements\n    };\n}\n_s(useSocketIO, \"WYEdNVYK5xzSYxEfdFfS5+SpPs8=\", false, function() {\n    return [\n        next_auth_react__WEBPACK_IMPORTED_MODULE_1__.useSession\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkJnQixrQkFBa0IsRUFBbEJBLGtCQUFrQjtRQUNsQkMsZ0JBQWdCLEVBQWhCQSxnQkFBZ0I7UUFDaEJDLGdCQUFnQixFQUFoQkEsZ0JBQWdCO1FBQ2hCOUMsY0FBYyxFQUFkQSxjQUFjO0tBQ2YsQ0FBQztBQUNKLENBQUM7R0ExTXVCUCxXQUFXOztRQUNQSix1REFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VTb2NrZXRJTy5qcz9hNmFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0JztcbmltcG9ydCB7IGluaXRTb2NrZXQsIGdldFNvY2tldCwgZGlzY29ubmVjdFNvY2tldCB9IGZyb20gJy4uL2xpYi9zb2NrZXRpbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVNvY2tldElPKHByb2plY3RJZCkge1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24gfSA9IHVzZVNlc3Npb24oKTtcbiAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNvY2tldFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2FjdGl2ZUVsZW1lbnRzLCBzZXRBY3RpdmVFbGVtZW50c10gPSB1c2VTdGF0ZSh7fSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBTb2NrZXQuSU8gY29ubmVjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcHJvamVjdElkKSByZXR1cm47XG5cbiAgICAvLyBGdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSBzb2NrZXQgY29ubmVjdGlvblxuICAgIGNvbnN0IHNldHVwU29ja2V0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgc29ja2V0IHVzaW5nIG91ciBzaW5nbGV0b25cbiAgICAgICAgY29uc3Qgc29ja2V0ID0gYXdhaXQgaW5pdFNvY2tldCgpO1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudCA9IHNvY2tldDtcblxuICAgICAgICAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTb2NrZXQgY29ubmVjdGVkOicsIHNvY2tldC5pZCk7XG4gICAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSm9pbiB0aGUgcHJvamVjdCByb29tXG4gICAgICAgICAgc29ja2V0LmVtaXQoJ2pvaW4tcHJvamVjdCcsIHByb2plY3RJZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU29ja2V0IGRpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycik7XG4gICAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSBhY3RpdmUgZWxlbWVudHMgdXBkYXRlc1xuICAgICAgICBzb2NrZXQub24oJ2FjdGl2ZS1lbGVtZW50cy11cGRhdGUnLCAoZWxlbWVudHMpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgYWN0aXZlIGVsZW1lbnRzIHVwZGF0ZTonLCBlbGVtZW50cyk7XG4gICAgICAgICAgY29uc3QgZWxlbWVudHNNYXAgPSB7fTtcbiAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudHNNYXBbZWxlbWVudC5lbGVtZW50SWRdID0gZWxlbWVudDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRBY3RpdmVFbGVtZW50cyhlbGVtZW50c01hcCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGVsZW1lbnQgZWRpdGluZyBzdGFydGVkXG4gICAgICAgIHNvY2tldC5vbignZWxlbWVudC1lZGl0aW5nLXN0YXJ0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFbGVtZW50IGVkaXRpbmcgc3RhcnRlZDonLCBkYXRhKTtcbiAgICAgICAgICBzZXRBY3RpdmVFbGVtZW50cyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgW2RhdGEuZWxlbWVudElkXTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgZWxlbWVudCBlZGl0aW5nIHN0b3BwZWRcbiAgICAgICAgc29ja2V0Lm9uKCdlbGVtZW50LWVkaXRpbmctc3RvcHBlZCcsIChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0VsZW1lbnQgZWRpdGluZyBzdG9wcGVkOicsIGRhdGEpO1xuICAgICAgICAgIHNldEFjdGl2ZUVsZW1lbnRzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBuZXdTdGF0ZVtkYXRhLmVsZW1lbnRJZF07XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIHNvY2tldDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNldHVwU29ja2V0KCk7XG5cbiAgICAvLyBDbGVhbnVwIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gV2UgZG9uJ3QgZGlzY29ubmVjdCB0aGUgc29ja2V0IGhlcmUgc2luY2UgaXQncyBhIHNpbmdsZXRvblxuICAgICAgLy8gSnVzdCByZW1vdmUgb3VyIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgaWYgKHNvY2tldFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9mZignY29ubmVjdCcpO1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vZmYoJ2Rpc2Nvbm5lY3QnKTtcbiAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQub2ZmKCdjb25uZWN0X2Vycm9yJyk7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9mZignYWN0aXZlLWVsZW1lbnRzLXVwZGF0ZScpO1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vZmYoJ2VsZW1lbnQtZWRpdGluZy1zdGFydGVkJyk7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9mZignZWxlbWVudC1lZGl0aW5nLXN0b3BwZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcHJvamVjdElkXSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gZW1pdCBpbWFnZSByZW9yZGVyIGV2ZW50XG4gIGNvbnN0IGVtaXRJbWFnZVJlb3JkZXIgPSB1c2VDYWxsYmFjaygoZGF5SWQsIGltYWdlcykgPT4ge1xuICAgIGlmICghc29ja2V0UmVmLmN1cnJlbnQgfHwgIWlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgXG4gICAgc29ja2V0UmVmLmN1cnJlbnQuZW1pdCgncmVvcmRlci1pbWFnZXMnLCB7XG4gICAgICBwcm9qZWN0SWQsXG4gICAgICBkYXlJZCxcbiAgICAgIGltYWdlcyxcbiAgICAgIHVzZXJJZDogc2Vzc2lvbj8udXNlcj8uaWRcbiAgICB9KTtcbiAgfSwgW3Byb2plY3RJZCwgaXNDb25uZWN0ZWQsIHNlc3Npb25dKTtcblxuICAvLyBGdW5jdGlvbiB0byBzdWJzY3JpYmUgdG8gaW1hZ2UgcmVvcmRlcmluZyBldmVudHNcbiAgY29uc3Qgc3Vic2NyaWJlVG9JbWFnZVJlb3JkZXIgPSB1c2VDYWxsYmFjaygoY2FsbGJhY2spID0+IHtcbiAgICBpZiAoIXNvY2tldFJlZi5jdXJyZW50KSByZXR1cm4gKCkgPT4ge307XG4gICAgXG4gICAgY29uc3QgaGFuZGxlSW1hZ2VzUmVvcmRlcmVkID0gKGRhdGEpID0+IHtcbiAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgIH07XG4gICAgXG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oJ2ltYWdlcy1yZW9yZGVyZWQnLCBoYW5kbGVJbWFnZXNSZW9yZGVyZWQpO1xuICAgIFxuICAgIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzb2NrZXRSZWYuY3VycmVudCkge1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vZmYoJ2ltYWdlcy1yZW9yZGVyZWQnLCBoYW5kbGVJbWFnZXNSZW9yZGVyZWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIHN0YXJ0IGVkaXRpbmcgYW4gZWxlbWVudFxuICBjb25zdCBzdGFydEVkaXRpbmdFbGVtZW50ID0gdXNlQ2FsbGJhY2soKGVsZW1lbnRJZCwgZWxlbWVudFR5cGUpID0+IHtcbiAgICBpZiAoIXNvY2tldFJlZi5jdXJyZW50IHx8ICFpc0Nvbm5lY3RlZCB8fCAhc2Vzc2lvbj8udXNlcikgcmV0dXJuO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGNvbG9yIGZvciB0aGUgdXNlciBiYXNlZCBvbiB0aGVpciBJRFxuICAgIGNvbnN0IGdldFVzZXJDb2xvciA9ICh1c2VySWQpID0+IHtcbiAgICAgIC8vIExpc3Qgb2YgdmlicmFudCBjb2xvcnMgZm9yIGhpZ2hsaWdodGluZ1xuICAgICAgY29uc3QgY29sb3JzID0gW1xuICAgICAgICAnI0ZGNTczMycsIC8vIFJlZC1PcmFuZ2VcbiAgICAgICAgJyMzM0ZGNTcnLCAvLyBHcmVlblxuICAgICAgICAnIzMzNTdGRicsIC8vIEJsdWVcbiAgICAgICAgJyNGRjMzQTgnLCAvLyBQaW5rXG4gICAgICAgICcjMzNGRkY1JywgLy8gQ3lhblxuICAgICAgICAnI0Y1RkYzMycsIC8vIFllbGxvd1xuICAgICAgICAnI0ZGMzNGNScsIC8vIE1hZ2VudGFcbiAgICAgICAgJyMzM0E4RkYnLCAvLyBMaWdodCBCbHVlXG4gICAgICAgICcjQTgzM0ZGJywgLy8gUHVycGxlXG4gICAgICAgICcjRkY4QzMzJyAgLy8gT3JhbmdlXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIHVzZXIgSUQgdG8gY29uc2lzdGVudGx5IHNlbGVjdCB0aGUgc2FtZSBjb2xvciBmb3IgYSB1c2VyXG4gICAgICBjb25zdCBjb2xvckluZGV4ID0gTWF0aC5hYnModXNlcklkLnNwbGl0KCcnKS5yZWR1Y2UoKGFjYywgY2hhcikgPT4gYWNjICsgY2hhci5jaGFyQ29kZUF0KDApLCAwKSkgJSBjb2xvcnMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGNvbG9yc1tjb2xvckluZGV4XTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGNvbG9yID0gZ2V0VXNlckNvbG9yKHNlc3Npb24udXNlci5pZCk7XG4gICAgXG4gICAgc29ja2V0UmVmLmN1cnJlbnQuZW1pdCgnc3RhcnQtZWRpdGluZy1lbGVtZW50Jywge1xuICAgICAgZWxlbWVudElkLFxuICAgICAgcHJvamVjdElkLFxuICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICB1c2VybmFtZTogc2Vzc2lvbi51c2VyLm5hbWUgfHwgJ1VzZXInLFxuICAgICAgY29sb3IsXG4gICAgICBlbGVtZW50VHlwZVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEFsc28gdXBkYXRlIGxvY2FsIHN0YXRlIGltbWVkaWF0ZWx5IGZvciByZXNwb25zaXZlIFVJXG4gICAgc2V0QWN0aXZlRWxlbWVudHMocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtlbGVtZW50SWRdOiB7XG4gICAgICAgIGVsZW1lbnRJZCxcbiAgICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICAgIHVzZXJuYW1lOiBzZXNzaW9uLnVzZXIubmFtZSB8fCAnVXNlcicsXG4gICAgICAgIGNvbG9yLFxuICAgICAgICBlbGVtZW50VHlwZVxuICAgICAgfVxuICAgIH0pKTtcbiAgfSwgW3Byb2plY3RJZCwgaXNDb25uZWN0ZWQsIHNlc3Npb25dKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIHN0b3AgZWRpdGluZyBhbiBlbGVtZW50XG4gIGNvbnN0IHN0b3BFZGl0aW5nRWxlbWVudCA9IHVzZUNhbGxiYWNrKChlbGVtZW50SWQpID0+IHtcbiAgICBpZiAoIXNvY2tldFJlZi5jdXJyZW50IHx8ICFpc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIFxuICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3N0b3AtZWRpdGluZy1lbGVtZW50Jywge1xuICAgICAgZWxlbWVudElkLFxuICAgICAgcHJvamVjdElkXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWxzbyB1cGRhdGUgbG9jYWwgc3RhdGUgaW1tZWRpYXRlbHkgZm9yIHJlc3BvbnNpdmUgVUlcbiAgICBzZXRBY3RpdmVFbGVtZW50cyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5wcmV2IH07XG4gICAgICBkZWxldGUgbmV3U3RhdGVbZWxlbWVudElkXTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9KTtcbiAgfSwgW3Byb2plY3RJZCwgaXNDb25uZWN0ZWRdKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFuIGVsZW1lbnQgaXMgYmVpbmcgZWRpdGVkIGFuZCBieSB3aG9tXG4gIGNvbnN0IGdldEVsZW1lbnRFZGl0b3IgPSB1c2VDYWxsYmFjaygoZWxlbWVudElkKSA9PiB7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRzW2VsZW1lbnRJZF0gfHwgbnVsbDtcbiAgfSwgW2FjdGl2ZUVsZW1lbnRzXSk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgZWRpdGluZyBhbiBlbGVtZW50XG4gIGNvbnN0IGlzRWRpdGluZ0VsZW1lbnQgPSB1c2VDYWxsYmFjaygoZWxlbWVudElkKSA9PiB7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRzW2VsZW1lbnRJZF0/LnVzZXJJZCA9PT0gc2Vzc2lvbj8udXNlcj8uaWQ7XG4gIH0sIFthY3RpdmVFbGVtZW50cywgc2Vzc2lvbl0pO1xuXG4gIHJldHVybiB7XG4gICAgaXNDb25uZWN0ZWQsXG4gICAgZW1pdEltYWdlUmVvcmRlcixcbiAgICBzdWJzY3JpYmVUb0ltYWdlUmVvcmRlcixcbiAgICBzdGFydEVkaXRpbmdFbGVtZW50LFxuICAgIHN0b3BFZGl0aW5nRWxlbWVudCxcbiAgICBnZXRFbGVtZW50RWRpdG9yLFxuICAgIGlzRWRpdGluZ0VsZW1lbnQsXG4gICAgYWN0aXZlRWxlbWVudHNcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlU2Vzc2lvbiIsImluaXRTb2NrZXQiLCJnZXRTb2NrZXQiLCJkaXNjb25uZWN0U29ja2V0IiwidXNlU29ja2V0SU8iLCJwcm9qZWN0SWQiLCJkYXRhIiwic2Vzc2lvbiIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJzb2NrZXRSZWYiLCJhY3RpdmVFbGVtZW50cyIsInNldEFjdGl2ZUVsZW1lbnRzIiwic2V0dXBTb2NrZXQiLCJzb2NrZXQiLCJlcnJvciIsImN1cnJlbnQiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImVtaXQiLCJlcnIiLCJlbGVtZW50cyIsImVsZW1lbnRzTWFwIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJlbGVtZW50SWQiLCJwcmV2IiwibmV3U3RhdGUiLCJvZmYiLCJlbWl0SW1hZ2VSZW9yZGVyIiwiZGF5SWQiLCJpbWFnZXMiLCJ1c2VySWQiLCJ1c2VyIiwic3Vic2NyaWJlVG9JbWFnZVJlb3JkZXIiLCJjYWxsYmFjayIsImhhbmRsZUltYWdlc1Jlb3JkZXJlZCIsInN0YXJ0RWRpdGluZ0VsZW1lbnQiLCJlbGVtZW50VHlwZSIsImdldFVzZXJDb2xvciIsImNvbG9ycyIsImNvbG9ySW5kZXgiLCJNYXRoIiwiYWJzIiwic3BsaXQiLCJyZWR1Y2UiLCJhY2MiLCJjaGFyIiwiY2hhckNvZGVBdCIsImxlbmd0aCIsImNvbG9yIiwidXNlcm5hbWUiLCJuYW1lIiwic3RvcEVkaXRpbmdFbGVtZW50IiwiZ2V0RWxlbWVudEVkaXRvciIsImlzRWRpdGluZ0VsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useSocketIO.js\n"));

/***/ })

});