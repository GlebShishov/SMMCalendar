"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/projects";
exports.ids = ["pages/api/projects"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/smm-calendar\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixXQUFXLElBQUksd0NBQXdDO0FBRXZGLElBQUksQ0FBQ0EsV0FBVyxFQUFFO0lBQ2hCLE1BQU0sSUFBSUcsS0FBSyxDQUNiLG9EQUFvRCxDQUNyRCxDQUFDO0FBQ0osQ0FBQztBQUVEOzs7O0NBSUMsR0FDRCxJQUFJQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ04sUUFBUTtBQUU1QixJQUFJLENBQUNLLE1BQU0sRUFBRTtJQUNYQSxNQUFNLEdBQUdDLE1BQU0sQ0FBQ04sUUFBUSxHQUFHO1FBQUVPLElBQUksRUFBRSxJQUFJO1FBQUVDLE9BQU8sRUFBRSxJQUFJO0tBQUUsQ0FBQztBQUMzRCxDQUFDO0FBRUQsZUFBZUMsU0FBUyxHQUFHO0lBQ3pCLElBQUlKLE1BQU0sQ0FBQ0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsTUFBTSxDQUFDRSxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUksQ0FBQ0YsTUFBTSxDQUFDRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsSUFBSSxHQUFHO1lBQ1hDLGNBQWMsRUFBRSxLQUFLO1NBQ3RCO1FBRUROLE1BQU0sQ0FBQ0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsV0FBVyxFQUFFUyxJQUFJLENBQUMsQ0FBQ0csSUFBSSxDQUFDLENBQUNiLFFBQVEsR0FBSztZQUN0RSxPQUFPQSxRQUFRLENBQUM7UUFDbEIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0RLLE1BQU0sQ0FBQ0UsSUFBSSxHQUFHLE1BQU1GLE1BQU0sQ0FBQ0csT0FBTyxDQUFDO0lBQ25DLE9BQU9ILE1BQU0sQ0FBQ0UsSUFBSSxDQUFDO0FBQ3JCLENBQUM7QUFFRCxpRUFBZUUsU0FBUyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21tLWNvbnRlbnQtY2FsZW5kYXIvLi9saWIvZGJDb25uZWN0LmpzPzFkM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9zbW0tY2FsZW5kYXInO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUnXG4gICk7XG59XG5cbi8qKlxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xuICogaW4gZGV2ZWxvcG1lbnQuIFRoaXMgcHJldmVudHMgY29ubmVjdGlvbnMgZ3Jvd2luZyBleHBvbmVudGlhbGx5XG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxuICovXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xuXG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH1cblxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xuICAgIH0pO1xuICB9XG4gIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XG4gIHJldHVybiBjYWNoZWQuY29ubjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsImNvbm5lY3QiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./models/Project.js":
/*!***************************!*\
  !*** ./models/Project.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DayContentSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    socialNetwork: {\n        type: String,\n        default: \"\"\n    },\n    images: {\n        type: [\n            String\n        ],\n        default: []\n    },\n    text: {\n        type: String,\n        default: \"\"\n    }\n});\nconst ProjectSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Please provide a project name\"\n        ],\n        trim: true\n    },\n    owner: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema.Types.ObjectId),\n        ref: \"User\",\n        required: true\n    },\n    days: {\n        type: [\n            DayContentSchema\n        ],\n        default: Array(7).fill({\n            socialNetwork: \"\",\n            images: [],\n            text: \"\"\n        })\n    },\n    companyName: {\n        type: String,\n        default: \"\"\n    },\n    companyDescription: {\n        type: String,\n        default: \"\"\n    },\n    companyWebsite: {\n        type: String,\n        default: \"\"\n    },\n    socialLinks: {\n        type: Map,\n        of: String,\n        default: {}\n    },\n    imagePrompt: {\n        type: String,\n        default: \"\"\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Project) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Project\", ProjectSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvUHJvamVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsZ0JBQWdCLEdBQUcsSUFBSUQsd0RBQWUsQ0FBQztJQUMzQ0csYUFBYSxFQUFFO1FBQ2JDLElBQUksRUFBRUMsTUFBTTtRQUNaQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0lBQ0RDLE1BQU0sRUFBRTtRQUNOSCxJQUFJLEVBQUU7WUFBQ0MsTUFBTTtTQUFDO1FBQ2RDLE9BQU8sRUFBRSxFQUFFO0tBQ1o7SUFDREUsSUFBSSxFQUFFO1FBQ0pKLElBQUksRUFBRUMsTUFBTTtRQUNaQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0NBQ0YsQ0FBQztBQUVGLE1BQU1HLGFBQWEsR0FBRyxJQUFJVCx3REFBZSxDQUFDO0lBQ3hDVSxJQUFJLEVBQUU7UUFDSk4sSUFBSSxFQUFFQyxNQUFNO1FBQ1pNLFFBQVEsRUFBRTtZQUFDLElBQUk7WUFBRSwrQkFBK0I7U0FBQztRQUNqREMsSUFBSSxFQUFFLElBQUk7S0FDWDtJQUNEQyxLQUFLLEVBQUU7UUFDTFQsSUFBSSxFQUFFSix1RUFBOEI7UUFDcENnQixHQUFHLEVBQUUsTUFBTTtRQUNYTCxRQUFRLEVBQUUsSUFBSTtLQUNmO0lBQ0RNLElBQUksRUFBRTtRQUNKYixJQUFJLEVBQUU7WUFBQ0gsZ0JBQWdCO1NBQUM7UUFDeEJLLE9BQU8sRUFBRVksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDckJoQixhQUFhLEVBQUUsRUFBRTtZQUNqQkksTUFBTSxFQUFFLEVBQUU7WUFDVkMsSUFBSSxFQUFFLEVBQUU7U0FDVCxDQUFDO0tBQ0g7SUFDRFksV0FBVyxFQUFFO1FBQ1hoQixJQUFJLEVBQUVDLE1BQU07UUFDWkMsT0FBTyxFQUFFLEVBQUU7S0FDWjtJQUNEZSxrQkFBa0IsRUFBRTtRQUNsQmpCLElBQUksRUFBRUMsTUFBTTtRQUNaQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0lBQ0RnQixjQUFjLEVBQUU7UUFDZGxCLElBQUksRUFBRUMsTUFBTTtRQUNaQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0lBQ0RpQixXQUFXLEVBQUU7UUFDWG5CLElBQUksRUFBRW9CLEdBQUc7UUFDVEMsRUFBRSxFQUFFcEIsTUFBTTtRQUNWQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0lBQ0RvQixXQUFXLEVBQUU7UUFDWHRCLElBQUksRUFBRUMsTUFBTTtRQUNaQyxPQUFPLEVBQUUsRUFBRTtLQUNaO0lBQ0RxQixTQUFTLEVBQUU7UUFDVHZCLElBQUksRUFBRXdCLElBQUk7UUFDVnRCLE9BQU8sRUFBRXNCLElBQUksQ0FBQ0MsR0FBRztLQUNsQjtJQUNEQyxTQUFTLEVBQUU7UUFDVDFCLElBQUksRUFBRXdCLElBQUk7UUFDVnRCLE9BQU8sRUFBRXNCLElBQUksQ0FBQ0MsR0FBRztLQUNsQjtDQUNGLENBQUM7QUFFRixpRUFBZTdCLGdFQUF1QixJQUFJQSxxREFBYyxDQUFDLFNBQVMsRUFBRVMsYUFBYSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbW0tY29udGVudC1jYWxlbmRhci8uL21vZGVscy9Qcm9qZWN0LmpzP2NiMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgRGF5Q29udGVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBzb2NpYWxOZXR3b3JrOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICcnLFxuICB9LFxuICBpbWFnZXM6IHtcbiAgICB0eXBlOiBbU3RyaW5nXSxcbiAgICBkZWZhdWx0OiBbXSxcbiAgfSxcbiAgdGV4dDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJyxcbiAgfSxcbn0pO1xuXG5jb25zdCBQcm9qZWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGxlYXNlIHByb3ZpZGUgYSBwcm9qZWN0IG5hbWUnXSxcbiAgICB0cmltOiB0cnVlLFxuICB9LFxuICBvd25lcjoge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdVc2VyJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgZGF5czoge1xuICAgIHR5cGU6IFtEYXlDb250ZW50U2NoZW1hXSxcbiAgICBkZWZhdWx0OiBBcnJheSg3KS5maWxsKHtcbiAgICAgIHNvY2lhbE5ldHdvcms6ICcnLFxuICAgICAgaW1hZ2VzOiBbXSxcbiAgICAgIHRleHQ6ICcnLFxuICAgIH0pLFxuICB9LFxuICBjb21wYW55TmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJyxcbiAgfSxcbiAgY29tcGFueURlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICcnLFxuICB9LFxuICBjb21wYW55V2Vic2l0ZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJyxcbiAgfSxcbiAgc29jaWFsTGlua3M6IHtcbiAgICB0eXBlOiBNYXAsXG4gICAgb2Y6IFN0cmluZyxcbiAgICBkZWZhdWx0OiB7fSxcbiAgfSxcbiAgaW1hZ2VQcm9tcHQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJycsXG4gIH0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gIH0sXG4gIHVwZGF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlByb2plY3QgfHwgbW9uZ29vc2UubW9kZWwoJ1Byb2plY3QnLCBQcm9qZWN0U2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIkRheUNvbnRlbnRTY2hlbWEiLCJTY2hlbWEiLCJzb2NpYWxOZXR3b3JrIiwidHlwZSIsIlN0cmluZyIsImRlZmF1bHQiLCJpbWFnZXMiLCJ0ZXh0IiwiUHJvamVjdFNjaGVtYSIsIm5hbWUiLCJyZXF1aXJlZCIsInRyaW0iLCJvd25lciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkYXlzIiwiQXJyYXkiLCJmaWxsIiwiY29tcGFueU5hbWUiLCJjb21wYW55RGVzY3JpcHRpb24iLCJjb21wYW55V2Vic2l0ZSIsInNvY2lhbExpbmtzIiwiTWFwIiwib2YiLCJpbWFnZVByb21wdCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkQXQiLCJtb2RlbHMiLCJQcm9qZWN0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/Project.js\n");

/***/ }),

/***/ "(api)/./pages/api/projects/index.js":
/*!*************************************!*\
  !*** ./pages/api/projects/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var _models_Project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Project */ \"(api)/./models/Project.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n// In-memory projects storage for test users\nconst TEST_USER_IDS = [\n    \"test-user-123\",\n    \"test-user-222\"\n];\n// File to store test user projects\nconst TEST_PROJECTS_FILE = path__WEBPACK_IMPORTED_MODULE_4___default().join(process.cwd(), \"test-projects.json\");\n// Load test projects from file or initialize empty array\nlet testUserProjects = [];\ntry {\n    if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(TEST_PROJECTS_FILE)) {\n        const data = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(TEST_PROJECTS_FILE, \"utf8\");\n        testUserProjects = JSON.parse(data);\n        console.log(\"Loaded test projects from file\");\n    }\n} catch (error) {\n    console.error(\"Error loading test projects:\", error);\n    testUserProjects = [];\n}\n// Save test projects to file\nconst saveTestProjects = ()=>{\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(TEST_PROJECTS_FILE, JSON.stringify(testUserProjects, null, 2), \"utf8\");\n        console.log(\"Saved test projects to file\");\n    } catch (error) {\n        console.error(\"Error saving test projects:\", error);\n    }\n};\n// Находим проект \"Agarto test\" у пользователя 123\nconst user123Id = \"test-user-123\";\nconst user222Id = \"test-user-222\";\nconst agartoTestProject = testUserProjects.find((p)=>p.name === \"Agarto test\" && p.owner === user123Id);\n// Если проект существует у пользователя 123, создаем его копию для пользователя 222\nif (agartoTestProject) {\n    console.log('Found \"Agarto test\" project for user 123:', agartoTestProject._id);\n    // Удаляем старый проект \"Agarto test\" у пользователя 222, если он существует\n    testUserProjects = testUserProjects.filter((p)=>!(p.name === \"Agarto test\" && p.owner === user222Id));\n    // Создаем новый проект для пользователя 222 с тем же ID и содержимым\n    const sharedProject = {\n        ...JSON.parse(JSON.stringify(agartoTestProject)),\n        owner: user222Id\n    };\n    // Проверяем, нет ли уже такого проекта\n    if (!testUserProjects.some((p)=>p._id === sharedProject._id && p.owner === user222Id)) {\n        testUserProjects.push(sharedProject);\n        console.log('Created shared \"Agarto test\" project for user 222 with ID:', sharedProject._id);\n    }\n    // Сохраняем изменения\n    saveTestProjects();\n} else {\n    console.log('No \"Agarto test\" project found for user 123');\n}\n// Make projects available globally\nglobal.testUserProjects = testUserProjects;\nglobal.saveTestProjects = saveTestProjects;\nasync function handler(req, res) {\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.getSession)({\n        req\n    });\n    // Check authentication\n    if (!session) {\n        return res.status(401).json({\n            message: \"Not authenticated\"\n        });\n    }\n    // Handle test users separately (no DB connection needed)\n    if (TEST_USER_IDS.includes(session.user.id)) {\n        return handleTestUser(req, res, session);\n    }\n    // For regular users, use MongoDB\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        switch(req.method){\n            case \"GET\":\n                try {\n                    const projects = await _models_Project__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n                        owner: session.user.id\n                    });\n                    res.status(200).json({\n                        success: true,\n                        data: projects\n                    });\n                } catch (error) {\n                    res.status(400).json({\n                        success: false,\n                        message: error.message\n                    });\n                }\n                break;\n            case \"POST\":\n                try {\n                    const project = await _models_Project__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n                        ...req.body,\n                        owner: session.user.id\n                    });\n                    res.status(201).json({\n                        success: true,\n                        data: project\n                    });\n                } catch (error1) {\n                    res.status(400).json({\n                        success: false,\n                        message: error1.message\n                    });\n                }\n                break;\n            default:\n                res.status(405).json({\n                    success: false,\n                    message: \"Method not allowed\"\n                });\n                break;\n        }\n    } catch (error2) {\n        console.error(\"Database connection error:\", error2);\n        // Fall back to in-memory storage for all users if DB connection fails\n        return handleTestUser(req, res, session);\n    }\n}\n// Handle test user with in-memory storage\nfunction handleTestUser(req, res, session) {\n    console.log(`Handling ${req.method} request for user ${session.user.id}`);\n    console.log(`Current projects: ${testUserProjects.length}`);\n    switch(req.method){\n        case \"GET\":\n            // Фильтруем проекты по владельцу для отображения в списке проектов\n            const userProjects = testUserProjects.filter((p)=>p.owner === session.user.id);\n            console.log(`Found ${userProjects.length} projects for user ${session.user.id}`);\n            res.status(200).json({\n                success: true,\n                data: userProjects\n            });\n            break;\n        case \"POST\":\n            const newProject = {\n                _id: `project-${Date.now()}`,\n                ...req.body,\n                owner: session.user.id,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n            };\n            testUserProjects.push(newProject);\n            global.testUserProjects = testUserProjects;\n            global.saveTestProjects();\n            res.status(201).json({\n                success: true,\n                data: newProject\n            });\n            break;\n        default:\n            res.status(405).json({\n                success: false,\n                message: \"Method not allowed\"\n            });\n            break;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvamVjdHMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ0Q7QUFDRDtBQUN6QjtBQUNJO0FBRXhCLDRDQUE0QztBQUM1QyxNQUFNSyxhQUFhLEdBQUc7SUFBQyxlQUFlO0lBQUUsZUFBZTtDQUFDO0FBRXhELG1DQUFtQztBQUNuQyxNQUFNQyxrQkFBa0IsR0FBR0YsZ0RBQVMsQ0FBQ0ksT0FBTyxDQUFDQyxHQUFHLEVBQUUsRUFBRSxvQkFBb0IsQ0FBQztBQUV6RSx5REFBeUQ7QUFDekQsSUFBSUMsZ0JBQWdCLEdBQUcsRUFBRTtBQUN6QixJQUFJO0lBQ0YsSUFBSVAsb0RBQWEsQ0FBQ0csa0JBQWtCLENBQUMsRUFBRTtRQUNyQyxNQUFNTSxJQUFJLEdBQUdULHNEQUFlLENBQUNHLGtCQUFrQixFQUFFLE1BQU0sQ0FBQztRQUN4REksZ0JBQWdCLEdBQUdJLElBQUksQ0FBQ0MsS0FBSyxDQUFDSCxJQUFJLENBQUMsQ0FBQztRQUNwQ0ksT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztJQUNoRCxDQUFDO0FBQ0gsRUFBRSxPQUFPQyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDRSxLQUFLLENBQUMsOEJBQThCLEVBQUVBLEtBQUssQ0FBQyxDQUFDO0lBQ3JEUixnQkFBZ0IsR0FBRyxFQUFFLENBQUM7QUFDeEIsQ0FBQztBQUVELDZCQUE2QjtBQUM3QixNQUFNUyxnQkFBZ0IsR0FBRyxJQUFNO0lBQzdCLElBQUk7UUFDRmhCLHVEQUFnQixDQUFDRyxrQkFBa0IsRUFBRVEsSUFBSSxDQUFDTyxTQUFTLENBQUNYLGdCQUFnQixFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN4Rk0sT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQztJQUM3QyxFQUFFLE9BQU9DLEtBQUssRUFBRTtRQUNkRixPQUFPLENBQUNFLEtBQUssQ0FBQyw2QkFBNkIsRUFBRUEsS0FBSyxDQUFDLENBQUM7SUFDdEQsQ0FBQztBQUNILENBQUM7QUFFRCxrREFBa0Q7QUFDbEQsTUFBTUksU0FBUyxHQUFHLGVBQWU7QUFDakMsTUFBTUMsU0FBUyxHQUFHLGVBQWU7QUFDakMsTUFBTUMsaUJBQWlCLEdBQUdkLGdCQUFnQixDQUFDZSxJQUFJLENBQUNDLENBQUFBLENBQUMsR0FBSUEsQ0FBQyxDQUFDQyxJQUFJLEtBQUssYUFBYSxJQUFJRCxDQUFDLENBQUNFLEtBQUssS0FBS04sU0FBUyxDQUFDO0FBRXZHLG9GQUFvRjtBQUNwRixJQUFJRSxpQkFBaUIsRUFBRTtJQUNyQlIsT0FBTyxDQUFDQyxHQUFHLENBQUMsMkNBQTJDLEVBQUVPLGlCQUFpQixDQUFDSyxHQUFHLENBQUMsQ0FBQztJQUVoRiw2RUFBNkU7SUFDN0VuQixnQkFBZ0IsR0FBR0EsZ0JBQWdCLENBQUNvQixNQUFNLENBQUNKLENBQUFBLENBQUMsR0FBSSxDQUFFQSxDQUFBQSxDQUFDLENBQUNDLElBQUksS0FBSyxhQUFhLElBQUlELENBQUMsQ0FBQ0UsS0FBSyxLQUFLTCxTQUFTLEVBQUUsQ0FBQztJQUV0RyxxRUFBcUU7SUFDckUsTUFBTVEsYUFBYSxHQUFHO1FBQ3BCLEdBQUdqQixJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDTyxTQUFTLENBQUNHLGlCQUFpQixDQUFDLENBQUM7UUFDaERJLEtBQUssRUFBRUwsU0FBUztLQUNqQjtJQUVELHVDQUF1QztJQUN2QyxJQUFJLENBQUNiLGdCQUFnQixDQUFDc0IsSUFBSSxDQUFDTixDQUFBQSxDQUFDLEdBQUlBLENBQUMsQ0FBQ0csR0FBRyxLQUFLRSxhQUFhLENBQUNGLEdBQUcsSUFBSUgsQ0FBQyxDQUFDRSxLQUFLLEtBQUtMLFNBQVMsQ0FBQyxFQUFFO1FBQ3JGYixnQkFBZ0IsQ0FBQ3VCLElBQUksQ0FBQ0YsYUFBYSxDQUFDLENBQUM7UUFDckNmLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDREQUE0RCxFQUFFYyxhQUFhLENBQUNGLEdBQUcsQ0FBQyxDQUFDO0lBQy9GLENBQUM7SUFFRCxzQkFBc0I7SUFDdEJWLGdCQUFnQixFQUFFLENBQUM7QUFDckIsT0FBTztJQUNMSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFFRCxtQ0FBbUM7QUFDbkNpQixNQUFNLENBQUN4QixnQkFBZ0IsR0FBR0EsZ0JBQWdCLENBQUM7QUFDM0N3QixNQUFNLENBQUNmLGdCQUFnQixHQUFHQSxnQkFBZ0IsQ0FBQztBQUU1QixlQUFlZ0IsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUM5QyxNQUFNQyxPQUFPLEdBQUcsTUFBTXBDLDJEQUFVLENBQUM7UUFBRWtDLEdBQUc7S0FBRSxDQUFDO0lBRXpDLHVCQUF1QjtJQUN2QixJQUFJLENBQUNFLE9BQU8sRUFBRTtRQUNaLE9BQU9ELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUMsT0FBTyxFQUFFLG1CQUFtQjtTQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQseURBQXlEO0lBQ3pELElBQUlwQyxhQUFhLENBQUNxQyxRQUFRLENBQUNKLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDQyxFQUFFLENBQUMsRUFBRTtRQUMzQyxPQUFPQyxjQUFjLENBQUNULEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsaUNBQWlDO0lBQ2pDLElBQUk7UUFDRixNQUFNdEMsMERBQVMsRUFBRSxDQUFDO1FBRWxCLE9BQVFvQyxHQUFHLENBQUNVLE1BQU07WUFDaEIsS0FBSyxLQUFLO2dCQUNSLElBQUk7b0JBQ0YsTUFBTUMsUUFBUSxHQUFHLE1BQU05Qyw0REFBWSxDQUFDO3dCQUFFMkIsS0FBSyxFQUFFVSxPQUFPLENBQUNLLElBQUksQ0FBQ0MsRUFBRTtxQkFBRSxDQUFDO29CQUMvRFAsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzt3QkFBRVEsT0FBTyxFQUFFLElBQUk7d0JBQUVwQyxJQUFJLEVBQUVtQyxRQUFRO3FCQUFFLENBQUMsQ0FBQztnQkFDMUQsRUFBRSxPQUFPN0IsS0FBSyxFQUFFO29CQUNkbUIsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzt3QkFBRVEsT0FBTyxFQUFFLEtBQUs7d0JBQUVQLE9BQU8sRUFBRXZCLEtBQUssQ0FBQ3VCLE9BQU87cUJBQUUsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDO2dCQUNELE1BQU07WUFFUixLQUFLLE1BQU07Z0JBQ1QsSUFBSTtvQkFDRixNQUFNUSxPQUFPLEdBQUcsTUFBTWhELDhEQUFjLENBQUM7d0JBQ25DLEdBQUdtQyxHQUFHLENBQUNlLElBQUk7d0JBQ1h2QixLQUFLLEVBQUVVLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDQyxFQUFFO3FCQUN2QixDQUFDO29CQUNGUCxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO3dCQUFFUSxPQUFPLEVBQUUsSUFBSTt3QkFBRXBDLElBQUksRUFBRXFDLE9BQU87cUJBQUUsQ0FBQyxDQUFDO2dCQUN6RCxFQUFFLE9BQU8vQixNQUFLLEVBQUU7b0JBQ2RtQixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO3dCQUFFUSxPQUFPLEVBQUUsS0FBSzt3QkFBRVAsT0FBTyxFQUFFdkIsTUFBSyxDQUFDdUIsT0FBTztxQkFBRSxDQUFDLENBQUM7Z0JBQ25FLENBQUM7Z0JBQ0QsTUFBTTtZQUVSO2dCQUNFSixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO29CQUFFUSxPQUFPLEVBQUUsS0FBSztvQkFBRVAsT0FBTyxFQUFFLG9CQUFvQjtpQkFBRSxDQUFDLENBQUM7Z0JBQ3hFLE1BQU07U0FDVDtJQUNILEVBQUUsT0FBT3ZCLE1BQUssRUFBRTtRQUNkRixPQUFPLENBQUNFLEtBQUssQ0FBQyw0QkFBNEIsRUFBRUEsTUFBSyxDQUFDLENBQUM7UUFDbkQsc0VBQXNFO1FBQ3RFLE9BQU8yQixjQUFjLENBQUNULEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLENBQUMsQ0FBQztJQUMzQyxDQUFDO0FBQ0gsQ0FBQztBQUVELDBDQUEwQztBQUMxQyxTQUFTTyxjQUFjLENBQUNULEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7SUFDekN0QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRW1CLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLGtCQUFrQixFQUFFUixPQUFPLENBQUNLLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFFNUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsRUFBRVAsZ0JBQWdCLENBQUMwQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFNUQsT0FBUWhCLEdBQUcsQ0FBQ1UsTUFBTTtRQUNoQixLQUFLLEtBQUs7WUFDUixtRUFBbUU7WUFDbkUsTUFBTU8sWUFBWSxHQUFHM0MsZ0JBQWdCLENBQUNvQixNQUFNLENBQUNKLENBQUFBLENBQUMsR0FBSUEsQ0FBQyxDQUFDRSxLQUFLLEtBQUtVLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDQyxFQUFFLENBQUM7WUFDOUU1QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRW9DLFlBQVksQ0FBQ0QsTUFBTSxDQUFDLG1CQUFtQixFQUFFZCxPQUFPLENBQUNLLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpGUCxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNuQlEsT0FBTyxFQUFFLElBQUk7Z0JBQ2JwQyxJQUFJLEVBQUV5QyxZQUFZO2FBQ25CLENBQUMsQ0FBQztZQUNILE1BQU07UUFFUixLQUFLLE1BQU07WUFDVCxNQUFNQyxVQUFVLEdBQUc7Z0JBQ2pCekIsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFMEIsSUFBSSxDQUFDQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO2dCQUM1QixHQUFHcEIsR0FBRyxDQUFDZSxJQUFJO2dCQUNYdkIsS0FBSyxFQUFFVSxPQUFPLENBQUNLLElBQUksQ0FBQ0MsRUFBRTtnQkFDdEJhLFNBQVMsRUFBRSxJQUFJRixJQUFJLEVBQUUsQ0FBQ0csV0FBVyxFQUFFO2dCQUNuQ0MsU0FBUyxFQUFFLElBQUlKLElBQUksRUFBRSxDQUFDRyxXQUFXLEVBQUU7YUFDcEM7WUFDRGhELGdCQUFnQixDQUFDdUIsSUFBSSxDQUFDcUIsVUFBVSxDQUFDLENBQUM7WUFDbENwQixNQUFNLENBQUN4QixnQkFBZ0IsR0FBR0EsZ0JBQWdCLENBQUM7WUFDM0N3QixNQUFNLENBQUNmLGdCQUFnQixFQUFFLENBQUM7WUFDMUJrQixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFUSxPQUFPLEVBQUUsSUFBSTtnQkFBRXBDLElBQUksRUFBRTBDLFVBQVU7YUFBRSxDQUFDLENBQUM7WUFDMUQsTUFBTTtRQUVSO1lBQ0VqQixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFUSxPQUFPLEVBQUUsS0FBSztnQkFBRVAsT0FBTyxFQUFFLG9CQUFvQjthQUFFLENBQUMsQ0FBQztZQUN4RSxNQUFNO0tBQ1Q7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21tLWNvbnRlbnQtY2FsZW5kYXIvLi9wYWdlcy9hcGkvcHJvamVjdHMvaW5kZXguanM/MTNhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDb25uZWN0IGZyb20gJy4uLy4uLy4uL2xpYi9kYkNvbm5lY3QnO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL1Byb2plY3QnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9yZWFjdCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbi8vIEluLW1lbW9yeSBwcm9qZWN0cyBzdG9yYWdlIGZvciB0ZXN0IHVzZXJzXG5jb25zdCBURVNUX1VTRVJfSURTID0gWyd0ZXN0LXVzZXItMTIzJywgJ3Rlc3QtdXNlci0yMjInXTtcblxuLy8gRmlsZSB0byBzdG9yZSB0ZXN0IHVzZXIgcHJvamVjdHNcbmNvbnN0IFRFU1RfUFJPSkVDVFNfRklMRSA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndGVzdC1wcm9qZWN0cy5qc29uJyk7XG5cbi8vIExvYWQgdGVzdCBwcm9qZWN0cyBmcm9tIGZpbGUgb3IgaW5pdGlhbGl6ZSBlbXB0eSBhcnJheVxubGV0IHRlc3RVc2VyUHJvamVjdHMgPSBbXTtcbnRyeSB7XG4gIGlmIChmcy5leGlzdHNTeW5jKFRFU1RfUFJPSkVDVFNfRklMRSkpIHtcbiAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKFRFU1RfUFJPSkVDVFNfRklMRSwgJ3V0ZjgnKTtcbiAgICB0ZXN0VXNlclByb2plY3RzID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICBjb25zb2xlLmxvZygnTG9hZGVkIHRlc3QgcHJvamVjdHMgZnJvbSBmaWxlJyk7XG4gIH1cbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdGVzdCBwcm9qZWN0czonLCBlcnJvcik7XG4gIHRlc3RVc2VyUHJvamVjdHMgPSBbXTtcbn1cblxuLy8gU2F2ZSB0ZXN0IHByb2plY3RzIHRvIGZpbGVcbmNvbnN0IHNhdmVUZXN0UHJvamVjdHMgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyhURVNUX1BST0pFQ1RTX0ZJTEUsIEpTT04uc3RyaW5naWZ5KHRlc3RVc2VyUHJvamVjdHMsIG51bGwsIDIpLCAndXRmOCcpO1xuICAgIGNvbnNvbGUubG9nKCdTYXZlZCB0ZXN0IHByb2plY3RzIHRvIGZpbGUnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdGVzdCBwcm9qZWN0czonLCBlcnJvcik7XG4gIH1cbn07XG5cbi8vINCd0LDRhdC+0LTQuNC8INC/0YDQvtC10LrRgiBcIkFnYXJ0byB0ZXN0XCIg0YMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIDEyM1xuY29uc3QgdXNlcjEyM0lkID0gJ3Rlc3QtdXNlci0xMjMnO1xuY29uc3QgdXNlcjIyMklkID0gJ3Rlc3QtdXNlci0yMjInO1xuY29uc3QgYWdhcnRvVGVzdFByb2plY3QgPSB0ZXN0VXNlclByb2plY3RzLmZpbmQocCA9PiBwLm5hbWUgPT09ICdBZ2FydG8gdGVzdCcgJiYgcC5vd25lciA9PT0gdXNlcjEyM0lkKTtcblxuLy8g0JXRgdC70Lgg0L/RgNC+0LXQutGCINGB0YPRidC10YHRgtCy0YPQtdGCINGDINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyAxMjMsINGB0L7Qt9C00LDQtdC8INC10LPQviDQutC+0L/QuNGOINC00LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8gMjIyXG5pZiAoYWdhcnRvVGVzdFByb2plY3QpIHtcbiAgY29uc29sZS5sb2coJ0ZvdW5kIFwiQWdhcnRvIHRlc3RcIiBwcm9qZWN0IGZvciB1c2VyIDEyMzonLCBhZ2FydG9UZXN0UHJvamVjdC5faWQpO1xuICBcbiAgLy8g0KPQtNCw0LvRj9C10Lwg0YHRgtCw0YDRi9C5INC/0YDQvtC10LrRgiBcIkFnYXJ0byB0ZXN0XCIg0YMg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIDIyMiwg0LXRgdC70Lgg0L7QvSDRgdGD0YnQtdGB0YLQstGD0LXRglxuICB0ZXN0VXNlclByb2plY3RzID0gdGVzdFVzZXJQcm9qZWN0cy5maWx0ZXIocCA9PiAhKHAubmFtZSA9PT0gJ0FnYXJ0byB0ZXN0JyAmJiBwLm93bmVyID09PSB1c2VyMjIySWQpKTtcbiAgXG4gIC8vINCh0L7Qt9C00LDQtdC8INC90L7QstGL0Lkg0L/RgNC+0LXQutGCINC00LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8gMjIyINGBINGC0LXQvCDQttC1IElEINC4INGB0L7QtNC10YDQttC40LzRi9C8XG4gIGNvbnN0IHNoYXJlZFByb2plY3QgPSB7XG4gICAgLi4uSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhZ2FydG9UZXN0UHJvamVjdCkpLCAvLyDQk9C70YPQsdC+0LrQvtC1INC60L7Qv9C40YDQvtCy0LDQvdC40LUg0L7QsdGK0LXQutGC0LBcbiAgICBvd25lcjogdXNlcjIyMklkXG4gIH07XG4gIFxuICAvLyDQn9GA0L7QstC10YDRj9C10LwsINC90LXRgiDQu9C4INGD0LbQtSDRgtCw0LrQvtCz0L4g0L/RgNC+0LXQutGC0LBcbiAgaWYgKCF0ZXN0VXNlclByb2plY3RzLnNvbWUocCA9PiBwLl9pZCA9PT0gc2hhcmVkUHJvamVjdC5faWQgJiYgcC5vd25lciA9PT0gdXNlcjIyMklkKSkge1xuICAgIHRlc3RVc2VyUHJvamVjdHMucHVzaChzaGFyZWRQcm9qZWN0KTtcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBzaGFyZWQgXCJBZ2FydG8gdGVzdFwiIHByb2plY3QgZm9yIHVzZXIgMjIyIHdpdGggSUQ6Jywgc2hhcmVkUHJvamVjdC5faWQpO1xuICB9XG4gIFxuICAvLyDQodC+0YXRgNCw0L3Rj9C10Lwg0LjQt9C80LXQvdC10L3QuNGPXG4gIHNhdmVUZXN0UHJvamVjdHMoKTtcbn0gZWxzZSB7XG4gIGNvbnNvbGUubG9nKCdObyBcIkFnYXJ0byB0ZXN0XCIgcHJvamVjdCBmb3VuZCBmb3IgdXNlciAxMjMnKTtcbn1cblxuLy8gTWFrZSBwcm9qZWN0cyBhdmFpbGFibGUgZ2xvYmFsbHlcbmdsb2JhbC50ZXN0VXNlclByb2plY3RzID0gdGVzdFVzZXJQcm9qZWN0cztcbmdsb2JhbC5zYXZlVGVzdFByb2plY3RzID0gc2F2ZVRlc3RQcm9qZWN0cztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbih7IHJlcSB9KTtcbiAgXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uXG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdOb3QgYXV0aGVudGljYXRlZCcgfSk7XG4gIH1cbiAgXG4gIC8vIEhhbmRsZSB0ZXN0IHVzZXJzIHNlcGFyYXRlbHkgKG5vIERCIGNvbm5lY3Rpb24gbmVlZGVkKVxuICBpZiAoVEVTVF9VU0VSX0lEUy5pbmNsdWRlcyhzZXNzaW9uLnVzZXIuaWQpKSB7XG4gICAgcmV0dXJuIGhhbmRsZVRlc3RVc2VyKHJlcSwgcmVzLCBzZXNzaW9uKTtcbiAgfVxuICBcbiAgLy8gRm9yIHJlZ3VsYXIgdXNlcnMsIHVzZSBNb25nb0RCXG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG5cbiAgICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcbiAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBQcm9qZWN0LmZpbmQoeyBvd25lcjogc2Vzc2lvbi51c2VyLmlkIH0pO1xuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcHJvamVjdHMgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgUHJvamVjdC5jcmVhdGUoe1xuICAgICAgICAgICAgLi4ucmVxLmJvZHksXG4gICAgICAgICAgICBvd25lcjogc2Vzc2lvbi51c2VyLmlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBwcm9qZWN0IH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAvLyBGYWxsIGJhY2sgdG8gaW4tbWVtb3J5IHN0b3JhZ2UgZm9yIGFsbCB1c2VycyBpZiBEQiBjb25uZWN0aW9uIGZhaWxzXG4gICAgcmV0dXJuIGhhbmRsZVRlc3RVc2VyKHJlcSwgcmVzLCBzZXNzaW9uKTtcbiAgfVxufVxuXG4vLyBIYW5kbGUgdGVzdCB1c2VyIHdpdGggaW4tbWVtb3J5IHN0b3JhZ2VcbmZ1bmN0aW9uIGhhbmRsZVRlc3RVc2VyKHJlcSwgcmVzLCBzZXNzaW9uKSB7XG4gIGNvbnNvbGUubG9nKGBIYW5kbGluZyAke3JlcS5tZXRob2R9IHJlcXVlc3QgZm9yIHVzZXIgJHtzZXNzaW9uLnVzZXIuaWR9YCk7XG4gIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2plY3RzOiAke3Rlc3RVc2VyUHJvamVjdHMubGVuZ3RofWApO1xuICBcbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgY2FzZSAnR0VUJzpcbiAgICAgIC8vINCk0LjQu9GM0YLRgNGD0LXQvCDQv9GA0L7QtdC60YLRiyDQv9C+INCy0LvQsNC00LXQu9GM0YbRgyDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQsiDRgdC/0LjRgdC60LUg0L/RgNC+0LXQutGC0L7QslxuICAgICAgY29uc3QgdXNlclByb2plY3RzID0gdGVzdFVzZXJQcm9qZWN0cy5maWx0ZXIocCA9PiBwLm93bmVyID09PSBzZXNzaW9uLnVzZXIuaWQpO1xuICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7dXNlclByb2plY3RzLmxlbmd0aH0gcHJvamVjdHMgZm9yIHVzZXIgJHtzZXNzaW9uLnVzZXIuaWR9YCk7XG4gICAgICBcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBkYXRhOiB1c2VyUHJvamVjdHNcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBjYXNlICdQT1NUJzpcbiAgICAgIGNvbnN0IG5ld1Byb2plY3QgPSB7XG4gICAgICAgIF9pZDogYHByb2plY3QtJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIC4uLnJlcS5ib2R5LFxuICAgICAgICBvd25lcjogc2Vzc2lvbi51c2VyLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG4gICAgICB0ZXN0VXNlclByb2plY3RzLnB1c2gobmV3UHJvamVjdCk7XG4gICAgICBnbG9iYWwudGVzdFVzZXJQcm9qZWN0cyA9IHRlc3RVc2VyUHJvamVjdHM7XG4gICAgICBnbG9iYWwuc2F2ZVRlc3RQcm9qZWN0cygpO1xuICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBuZXdQcm9qZWN0IH0pO1xuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBkZWZhdWx0OlxuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsIlByb2plY3QiLCJnZXRTZXNzaW9uIiwiZnMiLCJwYXRoIiwiVEVTVF9VU0VSX0lEUyIsIlRFU1RfUFJPSkVDVFNfRklMRSIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwidGVzdFVzZXJQcm9qZWN0cyIsImV4aXN0c1N5bmMiLCJkYXRhIiwicmVhZEZpbGVTeW5jIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic2F2ZVRlc3RQcm9qZWN0cyIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJ1c2VyMTIzSWQiLCJ1c2VyMjIySWQiLCJhZ2FydG9UZXN0UHJvamVjdCIsImZpbmQiLCJwIiwibmFtZSIsIm93bmVyIiwiX2lkIiwiZmlsdGVyIiwic2hhcmVkUHJvamVjdCIsInNvbWUiLCJwdXNoIiwiZ2xvYmFsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImluY2x1ZGVzIiwidXNlciIsImlkIiwiaGFuZGxlVGVzdFVzZXIiLCJtZXRob2QiLCJwcm9qZWN0cyIsInN1Y2Nlc3MiLCJwcm9qZWN0IiwiY3JlYXRlIiwiYm9keSIsImxlbmd0aCIsInVzZXJQcm9qZWN0cyIsIm5ld1Byb2plY3QiLCJEYXRlIiwibm93IiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/projects/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/projects/index.js"));
module.exports = __webpack_exports__;

})();