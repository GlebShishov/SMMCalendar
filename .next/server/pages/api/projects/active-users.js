"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/projects/active-users";
exports.ids = ["pages/api/projects/active-users"];
exports.modules = {

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "(api)/./pages/api/projects/active-users.js":
/*!********************************************!*\
  !*** ./pages/api/projects/active-users.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n// API для отслеживания активных пользователей в проекте\n\n// Хранилище активных пользователей и их состояний\n// Формат: { projectId: { userId: { username, color, activeDay, lastActivity } } }\nconst activeUsers = {};\n// Массив предопределенных цветов для пользователей\nconst userColors = [\n    \"#FF5733\",\n    \"#33FF57\",\n    \"#3357FF\",\n    \"#FF33F5\",\n    \"#33FFF5\",\n    \"#F5FF33\",\n    \"#FF8333\",\n    \"#8333FF\",\n    \"#33FF83\",\n    \"#FF3383\" // Малиновый\n];\n// Функция для получения случайного цвета из массива\nfunction getRandomColor(projectId) {\n    // Получаем все используемые цвета в проекте\n    const usedColors = Object.values(activeUsers[projectId] || {}).map((user)=>user.color);\n    // Фильтруем доступные цвета\n    const availableColors = userColors.filter((color)=>!usedColors.includes(color));\n    // Если есть доступные цвета, выбираем случайный из них\n    if (availableColors.length > 0) {\n        return availableColors[Math.floor(Math.random() * availableColors.length)];\n    }\n    // Если все цвета заняты, выбираем случайный из всего массива\n    return userColors[Math.floor(Math.random() * userColors.length)];\n}\n// Очистка неактивных пользователей (вызывается периодически)\nfunction cleanupInactiveUsers() {\n    const now = Date.now();\n    const inactivityThreshold = 5 * 60 * 1000; // 5 минут неактивности\n    Object.keys(activeUsers).forEach((projectId)=>{\n        Object.keys(activeUsers[projectId]).forEach((userId)=>{\n            const user = activeUsers[projectId][userId];\n            if (now - user.lastActivity > inactivityThreshold) {\n                // Удаляем неактивного пользователя\n                delete activeUsers[projectId][userId];\n            }\n        });\n        // Если в проекте не осталось активных пользователей, удаляем запись о проекте\n        if (Object.keys(activeUsers[projectId]).length === 0) {\n            delete activeUsers[projectId];\n        }\n    });\n}\n// Запускаем очистку неактивных пользователей каждую минуту\nsetInterval(cleanupInactiveUsers, 60 * 1000);\nasync function handler(req, res) {\n    // Проверяем авторизацию\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)({\n        req\n    });\n    if (!session) {\n        return res.status(401).json({\n            success: false,\n            message: \"Unauthorized\"\n        });\n    }\n    const { projectId  } = req.query;\n    if (!projectId) {\n        return res.status(400).json({\n            success: false,\n            message: \"Project ID is required\"\n        });\n    }\n    // Инициализируем структуру для проекта, если она еще не существует\n    if (!activeUsers[projectId]) {\n        activeUsers[projectId] = {};\n    }\n    const userId = session.user.id;\n    const username = session.user.username || session.user.name || session.user.email;\n    // Обработка различных типов запросов\n    switch(req.method){\n        case \"GET\":\n            // Возвращаем список активных пользователей в проекте\n            return res.status(200).json({\n                success: true,\n                users: Object.values(activeUsers[projectId] || {})\n            });\n        case \"POST\":\n            // Обновляем статус пользователя\n            const { activeDay  } = req.body;\n            // Если пользователь уже активен, обновляем его данные\n            if (activeUsers[projectId][userId]) {\n                activeUsers[projectId][userId] = {\n                    ...activeUsers[projectId][userId],\n                    activeDay,\n                    lastActivity: Date.now()\n                };\n            } else {\n                // Добавляем нового пользователя\n                activeUsers[projectId][userId] = {\n                    userId,\n                    username,\n                    color: getRandomColor(projectId),\n                    activeDay,\n                    lastActivity: Date.now()\n                };\n            }\n            return res.status(200).json({\n                success: true,\n                user: activeUsers[projectId][userId],\n                users: Object.values(activeUsers[projectId])\n            });\n        case \"DELETE\":\n            // Пользователь покидает проект или освобождает день\n            if (activeUsers[projectId][userId]) {\n                if (req.body.releaseDay) {\n                    // Освобождаем день, но оставляем пользователя активным\n                    activeUsers[projectId][userId].activeDay = null;\n                    activeUsers[projectId][userId].lastActivity = Date.now();\n                } else {\n                    // Полностью удаляем пользователя из активных\n                    delete activeUsers[projectId][userId];\n                }\n            }\n            return res.status(200).json({\n                success: true,\n                users: Object.values(activeUsers[projectId] || {})\n            });\n        default:\n            return res.status(405).json({\n                success: false,\n                message: \"Method not allowed\"\n            });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvamVjdHMvYWN0aXZlLXVzZXJzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHdEQUF3RDtBQUNYO0FBRTdDLGtEQUFrRDtBQUNsRCxrRkFBa0Y7QUFDbEYsTUFBTUMsV0FBVyxHQUFHLEVBQUU7QUFFdEIsbURBQW1EO0FBQ25ELE1BQU1DLFVBQVUsR0FBRztJQUNqQixTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTLENBQUUsWUFBWTtDQUN4QjtBQUVELG9EQUFvRDtBQUNwRCxTQUFTQyxjQUFjLENBQUNDLFNBQVMsRUFBRTtJQUNqQyw0Q0FBNEM7SUFDNUMsTUFBTUMsVUFBVSxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ04sV0FBVyxDQUFDRyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FDM0RJLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBSSxHQUFJQSxJQUFJLENBQUNDLEtBQUssQ0FBQztJQUUxQiw0QkFBNEI7SUFDNUIsTUFBTUMsZUFBZSxHQUFHVCxVQUFVLENBQUNVLE1BQU0sQ0FBQ0YsQ0FBQUEsS0FBSyxHQUFJLENBQUNMLFVBQVUsQ0FBQ1EsUUFBUSxDQUFDSCxLQUFLLENBQUMsQ0FBQztJQUUvRSx1REFBdUQ7SUFDdkQsSUFBSUMsZUFBZSxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzlCLE9BQU9ILGVBQWUsQ0FBQ0ksSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUdOLGVBQWUsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRUQsNkRBQTZEO0lBQzdELE9BQU9aLFVBQVUsQ0FBQ2EsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUdmLFVBQVUsQ0FBQ1ksTUFBTSxDQUFDLENBQUMs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dkQzQyxXQUFXLENBQUNHLFNBQVMsQ0FBQyxDQUFDb0IsTUFBTSxDQUFDLENBQUNrQixTQUFTLEdBQUcsSUFBSSxDQUFDO29CQUNoRHpDLFdBQVcsQ0FBQ0csU0FBUyxDQUFDLENBQUNvQixNQUFNLENBQUMsQ0FBQ0MsWUFBWSxHQUFHTCxJQUFJLENBQUNELEdBQUcsRUFBRSxDQUFDO2dCQUMzRCxPQUFPO29CQUNMLDZDQUE2QztvQkFDN0MsT0FBT2xCLFdBQVcsQ0FBQ0csU0FBUyxDQUFDLENBQUNvQixNQUFNLENBQUMsQ0FBQztnQkFDeEMsQ0FBQztZQUNILENBQUM7WUFFRCxPQUFPSyxHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTyxFQUFFLElBQUk7Z0JBQ2JRLEtBQUssRUFBRW5DLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDTixXQUFXLENBQUNHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUNuRCxDQUFDLENBQUM7UUFFTDtZQUNFLE9BQU95QixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPLEVBQUUsS0FBSztnQkFBRUMsT0FBTyxFQUFFLG9CQUFvQjthQUFFLENBQUMsQ0FBQztLQUNsRjtBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbW0tY29udGVudC1jYWxlbmRhci8uL3BhZ2VzL2FwaS9wcm9qZWN0cy9hY3RpdmUtdXNlcnMuanM/NTJjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBUEkg0LTQu9GPINC+0YLRgdC70LXQttC40LLQsNC90LjRjyDQsNC60YLQuNCy0L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INCyINC/0YDQvtC10LrRgtC1XG5pbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0JztcblxuLy8g0KXRgNCw0L3QuNC70LjRidC1INCw0LrRgtC40LLQvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkg0Lgg0LjRhSDRgdC+0YHRgtC+0Y/QvdC40Llcbi8vINCk0L7RgNC80LDRgjogeyBwcm9qZWN0SWQ6IHsgdXNlcklkOiB7IHVzZXJuYW1lLCBjb2xvciwgYWN0aXZlRGF5LCBsYXN0QWN0aXZpdHkgfSB9IH1cbmNvbnN0IGFjdGl2ZVVzZXJzID0ge307XG5cbi8vINCc0LDRgdGB0LjQsiDQv9GA0LXQtNC+0L/RgNC10LTQtdC70LXQvdC90YvRhSDRhtCy0LXRgtC+0LIg0LTQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5XG5jb25zdCB1c2VyQ29sb3JzID0gW1xuICAnI0ZGNTczMycsIC8vINCa0YDQsNGB0L3Ri9C5XG4gICcjMzNGRjU3JywgLy8g0JfQtdC70LXQvdGL0LlcbiAgJyMzMzU3RkYnLCAvLyDQodC40L3QuNC5XG4gICcjRkYzM0Y1JywgLy8g0KDQvtC30L7QstGL0LlcbiAgJyMzM0ZGRjUnLCAvLyDQk9C+0LvRg9Cx0L7QuVxuICAnI0Y1RkYzMycsIC8vINCW0LXQu9GC0YvQuVxuICAnI0ZGODMzMycsIC8vINCe0YDQsNC90LbQtdCy0YvQuVxuICAnIzgzMzNGRicsIC8vINCk0LjQvtC70LXRgtC+0LLRi9C5XG4gICcjMzNGRjgzJywgLy8g0JzRj9GC0L3Ri9C5XG4gICcjRkYzMzgzJyAgLy8g0JzQsNC70LjQvdC+0LLRi9C5XG5dO1xuXG4vLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0LvRg9GH0LDQudC90L7Qs9C+INGG0LLQtdGC0LAg0LjQtyDQvNCw0YHRgdC40LLQsFxuZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IocHJvamVjdElkKSB7XG4gIC8vINCf0L7Qu9GD0YfQsNC10Lwg0LLRgdC1INC40YHQv9C+0LvRjNC30YPQtdC80YvQtSDRhtCy0LXRgtCwINCyINC/0YDQvtC10LrRgtC1XG4gIGNvbnN0IHVzZWRDb2xvcnMgPSBPYmplY3QudmFsdWVzKGFjdGl2ZVVzZXJzW3Byb2plY3RJZF0gfHwge30pXG4gICAgLm1hcCh1c2VyID0+IHVzZXIuY29sb3IpO1xuICBcbiAgLy8g0KTQuNC70YzRgtGA0YPQtdC8INC00L7RgdGC0YPQv9C90YvQtSDRhtCy0LXRgtCwXG4gIGNvbnN0IGF2YWlsYWJsZUNvbG9ycyA9IHVzZXJDb2xvcnMuZmlsdGVyKGNvbG9yID0+ICF1c2VkQ29sb3JzLmluY2x1ZGVzKGNvbG9yKSk7XG4gIFxuICAvLyDQldGB0LvQuCDQtdGB0YLRjCDQtNC+0YHRgtGD0L/QvdGL0LUg0YbQstC10YLQsCwg0LLRi9Cx0LjRgNCw0LXQvCDRgdC70YPRh9Cw0LnQvdGL0Lkg0LjQtyDQvdC40YVcbiAgaWYgKGF2YWlsYWJsZUNvbG9ycy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGF2YWlsYWJsZUNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhdmFpbGFibGVDb2xvcnMubGVuZ3RoKV07XG4gIH1cbiAgXG4gIC8vINCV0YHQu9C4INCy0YHQtSDRhtCy0LXRgtCwINC30LDQvdGP0YLRiywg0LLRi9Cx0LjRgNCw0LXQvCDRgdC70YPRh9Cw0LnQvdGL0Lkg0LjQtyDQstGB0LXQs9C+INC80LDRgdGB0LjQstCwXG4gIHJldHVybiB1c2VyQ29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHVzZXJDb2xvcnMubGVuZ3RoKV07XG59XG5cbi8vINCe0YfQuNGB0YLQutCwINC90LXQsNC60YLQuNCy0L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5ICjQstGL0LfRi9Cy0LDQtdGC0YHRjyDQv9C10YDQuNC+0LTQuNGH0LXRgdC60LgpXG5mdW5jdGlvbiBjbGVhbnVwSW5hY3RpdmVVc2VycygpIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgaW5hY3Rpdml0eVRocmVzaG9sZCA9IDUgKiA2MCAqIDEwMDA7IC8vIDUg0LzQuNC90YPRgiDQvdC10LDQutGC0LjQstC90L7RgdGC0LhcbiAgXG4gIE9iamVjdC5rZXlzKGFjdGl2ZVVzZXJzKS5mb3JFYWNoKHByb2plY3RJZCA9PiB7XG4gICAgT2JqZWN0LmtleXMoYWN0aXZlVXNlcnNbcHJvamVjdElkXSkuZm9yRWFjaCh1c2VySWQgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IGFjdGl2ZVVzZXJzW3Byb2plY3RJZF1bdXNlcklkXTtcbiAgICAgIGlmIChub3cgLSB1c2VyLmxhc3RBY3Rpdml0eSA+IGluYWN0aXZpdHlUaHJlc2hvbGQpIHtcbiAgICAgICAgLy8g0KPQtNCw0LvRj9C10Lwg0L3QtdCw0LrRgtC40LLQvdC+0LPQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICAgICAgZGVsZXRlIGFjdGl2ZVVzZXJzW3Byb2plY3RJZF1bdXNlcklkXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyDQldGB0LvQuCDQsiDQv9GA0L7QtdC60YLQtSDQvdC1INC+0YHRgtCw0LvQvtGB0Ywg0LDQutGC0LjQstC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuSwg0YPQtNCw0LvRj9C10Lwg0LfQsNC/0LjRgdGMINC+INC/0YDQvtC10LrRgtC1XG4gICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2ZVVzZXJzW3Byb2plY3RJZF0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIGFjdGl2ZVVzZXJzW3Byb2plY3RJZF07XG4gICAgfVxuICB9KTtcbn1cblxuLy8g0JfQsNC/0YPRgdC60LDQtdC8INC+0YfQuNGB0YLQutGDINC90LXQsNC60YLQuNCy0L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC60LDQttC00YPRjiDQvNC40L3Rg9GC0YNcbnNldEludGVydmFsKGNsZWFudXBJbmFjdGl2ZVVzZXJzLCA2MCAqIDEwMDApO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQsNCy0YLQvtGA0LjQt9Cw0YbQuNGOXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHsgcmVxIH0pO1xuICBpZiAoIXNlc3Npb24pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gIH1cbiAgXG4gIGNvbnN0IHsgcHJvamVjdElkIH0gPSByZXEucXVlcnk7XG4gIFxuICBpZiAoIXByb2plY3RJZCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnUHJvamVjdCBJRCBpcyByZXF1aXJlZCcgfSk7XG4gIH1cbiAgXG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10Lwg0YHRgtGA0YPQutGC0YPRgNGDINC00LvRjyDQv9GA0L7QtdC60YLQsCwg0LXRgdC70Lgg0L7QvdCwINC10YnQtSDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCXG4gIGlmICghYWN0aXZlVXNlcnNbcHJvamVjdElkXSkge1xuICAgIGFjdGl2ZVVzZXJzW3Byb2plY3RJZF0gPSB7fTtcbiAgfVxuICBcbiAgY29uc3QgdXNlcklkID0gc2Vzc2lvbi51c2VyLmlkO1xuICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24udXNlci51c2VybmFtZSB8fCBzZXNzaW9uLnVzZXIubmFtZSB8fCBzZXNzaW9uLnVzZXIuZW1haWw7XG4gIFxuICAvLyDQntCx0YDQsNCx0L7RgtC60LAg0YDQsNC30LvQuNGH0L3Ri9GFINGC0LjQv9C+0LIg0LfQsNC/0YDQvtGB0L7QslxuICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcbiAgICBjYXNlICdHRVQnOlxuICAgICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10Lwg0YHQv9C40YHQvtC6INCw0LrRgtC40LLQvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkg0LIg0L/RgNC+0LXQutGC0LVcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHVzZXJzOiBPYmplY3QudmFsdWVzKGFjdGl2ZVVzZXJzW3Byb2plY3RJZF0gfHwge30pXG4gICAgICB9KTtcbiAgICAgIFxuICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGB0YLQsNGC0YPRgSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICAgIGNvbnN0IHsgYWN0aXZlRGF5IH0gPSByZXEuYm9keTtcbiAgICAgIFxuICAgICAgLy8g0JXRgdC70Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGD0LbQtSDQsNC60YLQuNCy0LXQvSwg0L7QsdC90L7QstC70Y/QtdC8INC10LPQviDQtNCw0L3QvdGL0LVcbiAgICAgIGlmIChhY3RpdmVVc2Vyc1twcm9qZWN0SWRdW3VzZXJJZF0pIHtcbiAgICAgICAgYWN0aXZlVXNlcnNbcHJvamVjdElkXVt1c2VySWRdID0ge1xuICAgICAgICAgIC4uLmFjdGl2ZVVzZXJzW3Byb2plY3RJZF1bdXNlcklkXSxcbiAgICAgICAgICBhY3RpdmVEYXksXG4gICAgICAgICAgbGFzdEFjdGl2aXR5OiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L3QvtCy0L7Qs9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgICAgICBhY3RpdmVVc2Vyc1twcm9qZWN0SWRdW3VzZXJJZF0gPSB7XG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgIGNvbG9yOiBnZXRSYW5kb21Db2xvcihwcm9qZWN0SWQpLFxuICAgICAgICAgIGFjdGl2ZURheSxcbiAgICAgICAgICBsYXN0QWN0aXZpdHk6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXNlcjogYWN0aXZlVXNlcnNbcHJvamVjdElkXVt1c2VySWRdLFxuICAgICAgICB1c2VyczogT2JqZWN0LnZhbHVlcyhhY3RpdmVVc2Vyc1twcm9qZWN0SWRdKVxuICAgICAgfSk7XG4gICAgICBcbiAgICBjYXNlICdERUxFVEUnOlxuICAgICAgLy8g0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC/0L7QutC40LTQsNC10YIg0L/RgNC+0LXQutGCINC40LvQuCDQvtGB0LLQvtCx0L7QttC00LDQtdGCINC00LXQvdGMXG4gICAgICBpZiAoYWN0aXZlVXNlcnNbcHJvamVjdElkXVt1c2VySWRdKSB7XG4gICAgICAgIGlmIChyZXEuYm9keS5yZWxlYXNlRGF5KSB7XG4gICAgICAgICAgLy8g0J7RgdCy0L7QsdC+0LbQtNCw0LXQvCDQtNC10L3RjCwg0L3QviDQvtGB0YLQsNCy0LvRj9C10Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCw0LrRgtC40LLQvdGL0LxcbiAgICAgICAgICBhY3RpdmVVc2Vyc1twcm9qZWN0SWRdW3VzZXJJZF0uYWN0aXZlRGF5ID0gbnVsbDtcbiAgICAgICAgICBhY3RpdmVVc2Vyc1twcm9qZWN0SWRdW3VzZXJJZF0ubGFzdEFjdGl2aXR5ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDQn9C+0LvQvdC+0YHRgtGM0Y4g0YPQtNCw0LvRj9C10Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40Lcg0LDQutGC0LjQstC90YvRhVxuICAgICAgICAgIGRlbGV0ZSBhY3RpdmVVc2Vyc1twcm9qZWN0SWRdW3VzZXJJZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXNlcnM6IE9iamVjdC52YWx1ZXMoYWN0aXZlVXNlcnNbcHJvamVjdElkXSB8fCB7fSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldFNlc3Npb24iLCJhY3RpdmVVc2VycyIsInVzZXJDb2xvcnMiLCJnZXRSYW5kb21Db2xvciIsInByb2plY3RJZCIsInVzZWRDb2xvcnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJtYXAiLCJ1c2VyIiwiY29sb3IiLCJhdmFpbGFibGVDb2xvcnMiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsImxlbmd0aCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNsZWFudXBJbmFjdGl2ZVVzZXJzIiwibm93IiwiRGF0ZSIsImluYWN0aXZpdHlUaHJlc2hvbGQiLCJrZXlzIiwiZm9yRWFjaCIsInVzZXJJZCIsImxhc3RBY3Rpdml0eSIsInNldEludGVydmFsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJxdWVyeSIsImlkIiwidXNlcm5hbWUiLCJuYW1lIiwiZW1haWwiLCJtZXRob2QiLCJ1c2VycyIsImFjdGl2ZURheSIsImJvZHkiLCJyZWxlYXNlRGF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/projects/active-users.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/projects/active-users.js"));
module.exports = __webpack_exports__;

})();